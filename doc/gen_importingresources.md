# Importing Resources## Overview # OverviewNon trivial applications often rely on resources that may be externally provided such as icons, pictures, sounds. Such resources are typically defined as external files. Naturally, you can make your application depends on external files, however, importing resource files within the Pharo image and make it integrally part of you code has a number of advantages:- you can simply deploy your application by downloading it from smalltalkhub. - having less dependencies on external files is always good to avoid technical subtilities such as file path containing weird characters. ## Encoding and Decoding # Encoding and DecodingThe basic mechanism to encode and decode data is provided by the class Base64MimeConverter. Consider the following example:mimeEncoded := 'Hello World' asByteArray base64Encoded.(Base64MimeConverter mimeDecodeToBytes: mimeEncoded readStream) contents asStringThe variable mimeEncoded contains an encoding of the Hello World string using the mime64 encoding. The method #mimeDecodeToBytes: reads mime64 strings from a stream. The example uses a string, but it could refers to any objects. You essentially need a ReadStream. ## Encoding and Decoding Image # Encoding and Decoding ImageEmbedding pictures in plan source code is often the reason why one need to encode resources. The following script loads an image located in the filesystem, create a string-friendly representation, and store it in a method. You probably want to keep the image in a class variable or a hash table.**form := PNGReadWriter formFromStream: '/Users/alexandrebergel/Dropbox/Screenshots/Screenshot 2017-05-19 15.25.44.png' asFileReference readStream."Write the stream on a stream"w := WriteStream on: ByteArray new.PNGReadWriter putForm: form onStream: w.w contents."Convert the byteArray into mime 64. It takes less space in the image"encodedContent := w contents base64Encoded."The following code converts the stream content "PNGReadWriter formFromStream: (Base64MimeConverter mimeDecodeToBytes: encodedContent readStream)."We encode the image as a method"Object compile: 'imageSource  ^ '',  encodedContent, ''.Object compile: 'image ^ PNGReadWriter formFromStream: (Base64MimeConverter mimeDecodeToBytes: self imageSource readStream). '."A better implementation is to cache the image in an instance or class variable""The following expression return the image initially encoded"Object new image **